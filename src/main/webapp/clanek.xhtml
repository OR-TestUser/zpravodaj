<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="/WEB-INF/templates/templateTransient.xhtml"
                xmlns:p="http://primefaces.org/ui">

  <ui:param name="title" value="#{singleArticleBean.article.label} - Tršický zpravodaj"/>

  <ui:define name="metadata">
    <f:metadata>
      <f:viewParam name="id" value="#{singleArticleBean.id}"/>
      <f:viewAction action="#{singleArticleBean.onLoad}"/>
    </f:metadata>
  </ui:define>

  <ui:define name="content">
    <h:panelGroup rendered="#{!empty singleArticleBean.article}">
      <h2 style="margin-top: 3em">#{singleArticleBean.article.label}</h2>

      <h:panelGroup style="color: #666; text-decoration:underline">
	<h:outputText value="#{singleArticleBean.article.publishedAt}">
	  <f:convertDateTime pattern="dd.MM.yyyy"/>
	</h:outputText>
	<h:outputText value=" • "/>
	#{singleArticleBean.article.createdBy.fullName}
      </h:panelGroup>
      <p style="font-size: 130%">
	#{singleArticleBean.article.leadParagraph}
      </p>

      <div class="articleBody">
	<h:outputText value="#{singleArticleBean.article.body}" escape="false"/>
      </div>

      <p style="text-align: right;">
	&#8718;
      </p>
    </h:panelGroup>

    <h:panelGroup rendered="#{empty singleArticleBean.article}">
      <h2>Je nám líto, článek nebyl nalezen.</h2>

      <h:link value="Zpět na úvod"
	      outcome="/index.xhtml"/>
    </h:panelGroup>
  </ui:define>
</ui:composition>
