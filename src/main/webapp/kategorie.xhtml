<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="/WEB-INF/templates/templateTransient.xhtml"
                xmlns:p="http://primefaces.org/ui">

  <ui:param name="title" value="#{indexBean.category.label} - Tršický zpravodaj"/>

  <ui:define name="metadata">
    <f:metadata>
      <f:viewParam name="k" value="#{indexBean.categoryId}"/>
      <f:viewAction action="#{indexBean.onLoad}"/>
    </f:metadata>
  </ui:define>

  <ui:define name="content">
    <p:panelGrid layout="grid" columns="1" styleClass="ui-noborder">
      <p:dataGrid value="#{indexBean.categoryArticles}"
		  var="article"
		  columns="2"
		  layout="grid"
		  style="margin-top: 2em; margin-bottom: 1em"
		  emptyMessage="Není k dispozici žádný článek.">
	<h:link outcome="/clanek.xhtml" style="text-decoration: none">
	  <f:param name="id" value="#{article.id}"/>
	  <div class="categoryArticle">
	    #{article.category.label}
	  </div>
	  <h3>#{article.label}</h3>
	  <p>
	    #{article.leadParagraph}
	  </p>
	</h:link>
      </p:dataGrid>
    </p:panelGrid>
  </ui:define>
</ui:composition>
